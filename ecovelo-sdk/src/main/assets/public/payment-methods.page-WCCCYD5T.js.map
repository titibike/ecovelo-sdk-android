{
  "version": 3,
  "sources": ["src/app/pages/account/payment-methods/payment-methods.page.ts", "src/app/pages/account/payment-methods/payment-methods.page.html"],
  "sourcesContent": ["import { Component, effect, OnInit, ViewChild } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { FormsModule } from '@angular/forms'\nimport {\n  IonContent,\n  IonButton,\n  IonBadge,\n  IonList,\n  IonItem,\n  IonText,\n  IonIcon,\n  IonSkeletonText,\n  IonRow,\n  IonLabel,\n  IonHeader,\n  IonToolbar,\n  IonButtons,\n  IonTitle,\n  IonCol,\n  IonModal,\n  IonProgressBar,\n  IonPopover,\n  IonRefresher,\n  IonRefresherContent,\n  LoadingController,\n} from '@ionic/angular/standalone'\nimport { HeaderComponent } from 'src/app/components/header/header.component'\nimport {\n  PaymentMethodsService,\n  paymentMethodsState,\n} from 'src/app/services/api-wrappers/payment-method.service'\nimport {\n  StripePaymentElementComponent,\n  StripeElementsDirective,\n} from 'ngx-stripe'\nimport { StripeService } from 'src/app/services/external/stripe.service'\nimport { environment } from 'src/environments/environment'\nimport {\n  StripeElementsOptions,\n  StripePaymentElementOptions,\n} from '@stripe/stripe-js'\nimport { TranslateModule, TranslateService } from '@ngx-translate/core'\nimport { ActivatedRoute } from '@angular/router'\nimport { addIcons } from 'ionicons'\nimport { ellipsisHorizontal, logoApple, logoGoogle } from 'ionicons/icons'\nimport { fetchUserAttributes } from 'aws-amplify/auth'\nimport {\n  AccountService,\n  cyclistState,\n} from 'src/app/services/api-wrappers/account.service'\nimport { Capacitor } from '@capacitor/core'\nimport { StorageService } from 'src/app/services/utils/storage.service'\nimport { RetrieveProgram200Response } from 'src/api-cyclist'\nimport { ErrorHandlerService } from 'src/app/services/utils/error-handler.service'\n\n@Component({\n  selector: 'app-payment-methods',\n  templateUrl: './payment-methods.page.html',\n  styleUrls: ['./payment-methods.page.scss'],\n  imports: [\n    IonContent,\n    HeaderComponent,\n    CommonModule,\n    FormsModule,\n    IonButton,\n    IonRow,\n    IonCol,\n    IonBadge,\n    IonLabel,\n    IonHeader,\n    IonToolbar,\n    IonButtons,\n    IonButton,\n    IonTitle,\n    IonModal,\n    IonList,\n    IonText,\n    IonIcon,\n    TranslateModule,\n    IonItem,\n    IonProgressBar,\n    IonSkeletonText,\n    StripePaymentElementComponent,\n    StripeElementsDirective,\n    IonPopover,\n    IonRefresher,\n    IonRefresherContent,\n  ],\n})\nexport class PaymentMethodsPage implements OnInit {\n  skeletonCount = 3\n  cardsState: paymentMethodsState = { state: 'loading' }\n  cyclistState: cyclistState\n  stripeOptions: StripeElementsOptions\n  environment = environment\n  @ViewChild(StripePaymentElementComponent)\n  paymentElement!: StripePaymentElementComponent\n  elementsOptions: StripePaymentElementOptions\n  @ViewChild('popover') popover!: IonPopover\n  selectedCardId: string | undefined\n  isOpenClassicPaymentSheet: 'hidden' | 'visible' = 'hidden'\n  paymentMode:\n    | 'classic'\n    | 'applepay'\n    | 'classic_applepay'\n    | 'classic_googlepay' = 'classic'\n  user: any\n  program: RetrieveProgram200Response | null = null\n  constructor(\n    public paymentMethodService: PaymentMethodsService,\n    public stripeService: StripeService,\n    private accountService: AccountService,\n    private router: ActivatedRoute,\n    private loadingCtrl: LoadingController,\n    private translateService: TranslateService,\n    private storage: StorageService,\n    private errorHandler: ErrorHandlerService\n  ) {\n    addIcons({ ellipsisHorizontal, logoApple, logoGoogle })\n\n    effect(() => {\n      this.cyclistState = this.accountService.cyclistState()\n    })\n    effect(() => {\n      this.cardsState = this.paymentMethodService.paymentMethodsState()\n    })\n  }\n\n  async ngOnInit() {\n    this.program = await this.storage.get('program')\n    this.user = await fetchUserAttributes()\n    //AFTER CONFIRM SETUP, CHECK THE ROUTE PARAMS\n    const urlParams = this.router.snapshot.queryParams\n    const setupIntent = urlParams['setup_intent']\n    const clientSecret = urlParams['setup_intent_client_secret']\n    const redirectStatus = urlParams['redirect_status']\n    if (setupIntent && clientSecret && redirectStatus === 'succeeded') {\n      this.stripeService.retrieveSetupIntent(clientSecret).subscribe({\n        next: async (result) => {\n          if (\n            result &&\n            result.setupIntent &&\n            result.setupIntent.payment_method\n          ) {\n            await this.accountService.loadCyclist()\n            await this.setDefaultCard(\n              result.setupIntent.payment_method as string\n            )\n          }\n        },\n      })\n    } else if (this.cardsState.state !== 'success') {\n      this.refresh()\n    }\n  }\n\n  handleRefresh(event: any) {\n    this.refresh().then(() => {\n      event.target.complete()\n    })\n  }\n\n  async refresh(): Promise<void> {\n    return new Promise<void>(async (resolve, reject) => {\n      this.cardsState = { state: 'loading' }\n      await this.paymentMethodService.getPaymentMethods()\n    })\n  }\n\n  public initStripe() {\n    this.stripeService\n      .initStripeElements(environment.program)\n      .subscribe(async (options) => {\n        this.elementsOptions = {\n          layout: {\n            type: 'auto',\n          },\n          wallets: {\n            applePay: 'auto',\n            googlePay: 'auto',\n          },\n        }\n        this.stripeOptions = options\n\n        if (Capacitor.getPlatform() === 'ios') {\n          const isAvailable = await this.stripeService.isApplePayAvailable()\n          this.paymentMode = isAvailable ? 'applepay' : 'classic'\n          this.isOpenClassicPaymentSheet = 'visible'\n        }\n        if (Capacitor.getPlatform() === 'android') {\n          const isAvailable = await this.stripeService.isGooglePayAvailable()\n          if (isAvailable) {\n            this.openGooglePay()\n          } else {\n            this.paymentMode = 'classic'\n          }\n        } else {\n          this.isOpenClassicPaymentSheet = 'visible'\n        }\n      })\n  }\n\n  private async handlePaymentSuccess(clientSecret: string) {\n    const loading = await this.loadingCtrl.create({\n      message: this.translateService.instant('loading.saving_card'),\n    })\n    await loading.present()\n\n    this.stripeService.retrieveSetupIntent(clientSecret).subscribe({\n      next: async (setupIntent) => {\n        if (setupIntent?.setupIntent?.payment_method) {\n          await this.setDefaultCard(\n            setupIntent.setupIntent.payment_method as string\n          )\n          this.isOpenClassicPaymentSheet = 'hidden'\n        }\n        await loading.dismiss()\n      },\n      error: async () => {\n        await loading.dismiss()\n      },\n    })\n  }\n\n  async openApplePay(options: StripeElementsOptions) {\n    try {\n      const result = await this.stripeService.setupApplePay(\n        options.clientSecret!,\n        this.program?.name || '',\n        this.program?.config?.applepay_merchant || ''\n      )\n\n      if (result === 'completed') {\n        await this.handlePaymentSuccess(options.clientSecret!)\n      } else if (result === 'failed') {\n        this.isOpenClassicPaymentSheet = 'visible'\n      } else {\n        this.isOpenClassicPaymentSheet = 'visible'\n      }\n    } catch (error) {\n      this.isOpenClassicPaymentSheet = 'visible'\n    }\n  }\n\n  async openGooglePay() {\n    try {\n      const result = await this.stripeService.setupGooglePay(\n        this.stripeOptions.clientSecret!,\n        this.program?.name || 'Ecovelo'\n      )\n\n      if (result === 'completed') {\n        await this.handlePaymentSuccess(this.stripeOptions.clientSecret!)\n      } else if (result === 'failed') {\n        this.isOpenClassicPaymentSheet = 'visible'\n        this.paymentMode = 'classic'\n      } else {\n        this.isOpenClassicPaymentSheet = 'visible'\n        this.paymentMode = 'classic'\n      }\n    } catch (error) {\n      this.isOpenClassicPaymentSheet = 'visible'\n      this.paymentMode = 'classic'\n    }\n  }\n\n  getIcon(brand: string | undefined): string {\n    switch (brand) {\n      case 'visa':\n        return '../../../assets/svg/fontawesome/visa.svg'\n      case 'mastercard':\n        return '../../../assets/svg/fontawesome/mastercard.svg'\n      default:\n        return '../../../assets/svg/fontawesome/credit-card.svg'\n    }\n  }\n  async presentPopover(e: Event, cardId: string) {\n    this.selectedCardId = cardId\n    this.popover.event = e\n    return this.popover.present()\n  }\n  async createCard(elements: any, clientSecret: string) {\n    const loading = await this.loadingCtrl.create({\n      message: 'Ajout de la carte...',\n    })\n\n    await loading.present()\n\n    if (this.user.name) {\n      this.stripeService\n        .confirmSetup(elements, clientSecret, this.user.name)\n        .subscribe({\n          next: async () => {\n            this.isOpenClassicPaymentSheet = 'hidden'\n            await loading.dismiss()\n          },\n          error: async () => {\n            await loading.dismiss()\n          },\n        })\n    } else {\n      await loading.dismiss()\n    }\n  }\n  async setDefaultCard(cardId: string) {\n    const loading = await this.loadingCtrl.create({\n      message: this.translateService.instant('loading.saving_card'),\n    })\n    await loading.present()\n    await this.paymentMethodService.setDefaultCard(cardId)\n    await this.loadingCtrl.getTop().then(async (loading) => {\n      if (loading) {\n        await loading.dismiss()\n      }\n    })\n  }\n  async deleteCard(cardId: string) {\n    await this.paymentMethodService.deleteCard(cardId)\n  }\n  handlePaymentElementChange(event: any) {\n    if (\n      event.value?.type === 'apple_pay' &&\n      this.paymentMode !== 'classic_applepay'\n    ) {\n      this.paymentMode = 'classic_applepay'\n    } else if (\n      event.value?.type === 'google_pay' &&\n      this.paymentMode !== 'classic_googlepay'\n    ) {\n      this.paymentMode = 'classic_googlepay'\n    } else if (!event.value?.type && this.paymentMode !== 'classic') {\n      this.paymentMode = 'classic'\n    }\n  }\n}\n", "<app-header [defaultHref]=\"'/account'\"></app-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-row class=\"ion-justify-content-center\">\n    <ion-col size=\"12\" size-md=\"8\" size-lg=\"6\">\n      <ion-refresher slot=\"fixed\" (ionRefresh)=\"handleRefresh($event)\">\n        <ion-refresher-content></ion-refresher-content>\n      </ion-refresher>\n\n      @switch (cardsState.state) { @case(\"success\") {\n      <h4>{{\"cards.my_cards\" | translate}}</h4>\n      <ion-list lines=\"none\">\n        <ion-item\n          *ngFor=\"let card of cardsState.paymentMethods\"\n          class=\"ion-margin-top card-item\"\n        >\n          <ion-icon\n            slot=\"start\"\n            [src]=\"getIcon(card.card?.brand)\"\n            size=\"large\"\n          ></ion-icon>\n          <ion-label>\n            <div>\n              <span class=\"card-number\">****{{ card.card?.last4 }}</span>\n            </div>\n            <div>\n              <span\n                class=\"expiry\"\n                *ngIf=\"card.card && card.card.exp_month && card.card.exp_year\"\n              >\n                Exp. {{ card.card.exp_month < 10 ? '0' + card.card.exp_month :\n                card.card.exp_month }}/{{\n                card.card.exp_year.toString().slice(-2) }}\n              </span>\n            </div>\n          </ion-label>\n          <ion-badge\n            *ngIf=\"cardsState.state === 'success' && paymentMethodService.defaultPaymentMethod()?.id === card.id\"\n            color=\"primary\"\n            class=\"default-badge\"\n          >\n            {{ 'cards.default' | translate }}\n          </ion-badge>\n          <ion-button\n            fill=\"clear\"\n            color=\"dark\"\n            #popoverButton\n            (click)=\"presentPopover($event, card.id!)\"\n            size=\"small\"\n            slot=\"end\"\n          >\n            <ion-icon name=\"ellipsis-horizontal\"></ion-icon>\n          </ion-button>\n        </ion-item>\n      </ion-list>\n      <hr class=\"divider\" />\n\n      <ion-popover\n        #popover\n        [dismissOnSelect]=\"true\"\n        [keepContentsMounted]=\"true\"\n      >\n        <ng-template>\n          <ion-list>\n            <ion-item\n              lines=\"full\"\n              [disabled]=\"paymentMethodService.defaultPaymentMethod()?.id === selectedCardId\"\n              (click)=\"setDefaultCard(selectedCardId!)\"\n            >\n              <ion-text>{{ 'cards.set_default' | translate }}</ion-text>\n            </ion-item>\n            <ion-item\n              [disabled]=\"paymentMethodService.defaultPaymentMethod()?.id === selectedCardId\"\n              (click)=\"deleteCard(selectedCardId!)\"\n              lines=\"none\"\n            >\n              <ion-text color=\"danger\"\n                >{{ 'cards.delete' | translate }}</ion-text\n              >\n            </ion-item>\n          </ion-list>\n        </ng-template>\n      </ion-popover>\n      } @case('loading') {\n      <ion-progress-bar type=\"indeterminate\"></ion-progress-bar>\n      <ion-list class=\"ion-margin-top\" lines=\"none\">\n        <ion-item\n          *ngFor=\"let i of [].constructor(skeletonCount)\"\n          class=\"ion-margin-top\"\n        >\n          <ion-skeleton-text\n            slot=\"start\"\n            [animated]=\"true\"\n            style=\"width: 32px; height: 32px\"\n          ></ion-skeleton-text>\n          <ion-label>\n            <div>\n              <ion-skeleton-text\n                [animated]=\"true\"\n                style=\"width: 120px\"\n              ></ion-skeleton-text>\n            </div>\n            <div>\n              <ion-skeleton-text\n                [animated]=\"true\"\n                style=\"width: 80px\"\n              ></ion-skeleton-text>\n            </div>\n          </ion-label>\n          <ion-skeleton-text\n            slot=\"end\"\n            [animated]=\"true\"\n            style=\"width: 80px; height: 24px\"\n          ></ion-skeleton-text>\n        </ion-item>\n      </ion-list>\n      } @case('error') {\n      <ion-text color=\"danger\"> {{ cardsState.error }} </ion-text>\n      } @case('no_data') {\n      <ion-text color=\"medium\"> {{ 'cards.empty' | translate }} </ion-text>\n      } }\n      <ion-button\n        class=\"ion-margin-top\"\n        id=\"open-modal\"\n        size=\"small\"\n        shape=\"round\"\n        color=\"dark\"\n        fill=\"outline\"\n        (click)=\"initStripe()\"\n      >\n        {{ 'cards.add_card' | translate }}\n      </ion-button>\n      <ion-modal\n        [isOpen]=\"isOpenClassicPaymentSheet === 'visible'\"\n        (ionModalDidDismiss)=\"isOpenClassicPaymentSheet = 'hidden'\"\n      >\n        <ng-template>\n          <ion-content>\n            <ion-header>\n              <ion-toolbar>\n                <ion-title>{{ 'cards.add_card' | translate }}</ion-title>\n                <ion-buttons slot=\"end\">\n                  <ion-button\n                    (click)=\"isOpenClassicPaymentSheet = 'hidden'\"\n                    shape=\"round\"\n                    fill=\"clear\"\n                    color=\"dark\"\n                  >\n                    {{\"generic.close\" | translate}}\n                  </ion-button>\n                </ion-buttons>\n              </ion-toolbar>\n            </ion-header>\n            <ng-container *ngIf=\"!stripeOptions\">\n              <ion-skeleton-text\n                animated\n                style=\"width: 100%; height: 60px\"\n              ></ion-skeleton-text>\n              <ion-skeleton-text\n                animated\n                style=\"width: 100%; height: 60px; margin: 10px 0\"\n              ></ion-skeleton-text>\n              <ion-skeleton-text\n                animated\n                style=\"width: 100%; height: 60px\"\n              ></ion-skeleton-text>\n            </ng-container>\n\n            <div *ngIf=\"stripeOptions\" class=\"ion-padding\">\n              <ion-button\n                class=\"ion-margin-vertical apple-pay-button\"\n                *ngIf=\"paymentMode === 'applepay'\"\n                expand=\"block\"\n                shape=\"round\"\n                (click)=\"openApplePay(stripeOptions)\"\n                fill=\"outline\"\n                color=\"dark\"\n              >\n                <ion-icon name=\"logo-apple\" slot=\"start\"></ion-icon>\n                {{ 'cards.pay_with_apple_pay' | translate }}\n              </ion-button>\n              <ngx-stripe-elements\n                [stripe]=\"stripeService.getStripe()\"\n                [elementsOptions]=\"stripeOptions\"\n                class=\"stripe-element-container\"\n              >\n                <ngx-stripe-payment\n                  [options]=\"elementsOptions\"\n                  (change)=\"handlePaymentElementChange($event)\"\n                />\n              </ngx-stripe-elements>\n\n              <ion-button\n                expand=\"block\"\n                class=\"ion-margin-top ion-margin-horizontal\"\n                (click)=\"createCard(paymentElement.elements, stripeOptions.clientSecret!)\"\n                shape=\"round\"\n                fill=\"outline\"\n                color=\"dark\"\n              >\n                {{ 'cards.save' | translate | uppercase }}\n              </ion-button>\n            </div>\n          </ion-content>\n        </ng-template>\n      </ion-modal>\n    </ion-col>\n  </ion-row>\n</ion-content>\n"],
  "mappings": "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",
  "names": ["loading"]
}
