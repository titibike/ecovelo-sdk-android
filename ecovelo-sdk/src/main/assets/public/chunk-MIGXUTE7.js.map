{
  "version": 3,
  "sources": ["src/app/services/utils/personnalisation.service.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core'\nimport { TranslateService } from '@ngx-translate/core'\nimport { StorageService } from './storage.service'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PersonnalisationService {\n  constructor(private storage: StorageService) {}\n\n  async setColors(): Promise<void> {\n    const program = await this.storage.get('program')\n    if (!program || !program.config.colors) {\n      return\n    }\n    const htmlEl: HTMLElement | null = document.querySelector('html')\n    if (htmlEl) {\n      htmlEl.style.setProperty(\n        '--ion-color-primary',\n        program.config.colors.primary\n      )\n      htmlEl.style.setProperty(\n        '--ion-color-primary-shade',\n        this.adjust(program.config.colors.primary, -30)\n      )\n      htmlEl.style.setProperty(\n        '--ion-color-primary-tint',\n        this.adjust(program.config.colors.primary, 30)\n      )\n      htmlEl.style.setProperty(\n        '--ion-color-secondary',\n        program.config.colors.secondary\n      )\n      htmlEl.style.setProperty(\n        '--ion-color-secondary-shade',\n        this.adjust(program.config.colors.secondary, -30)\n      )\n      htmlEl.style.setProperty(\n        '--ion-color-secondary-tint',\n        this.adjust(program.config.colors.secondary, 30)\n      )\n    }\n  }\n\n  private adjust(color: string, amount: number): string {\n    return (\n      '#' +\n      color\n        .replace(/^#/, '')\n        .replace(/../g, (color) =>\n          (\n            '0' +\n            Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(\n              16\n            )\n          ).substr(-2)\n        )\n    )\n  }\n\n  async setTitle(): Promise<void> {\n    const program = await this.storage.get('program')\n    if (!program || !program.name) {\n      return\n    }\n    document.title = program.name\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;AAOM,IAAO,2BAAP,MAAO,yBAAuB;EAClC,YAAoB,SAAuB;AAAvB,SAAA,UAAA;EAA0B;EAExC,YAAS;;AACb,YAAM,UAAU,MAAM,KAAK,QAAQ,IAAI,SAAS;AAChD,UAAI,CAAC,WAAW,CAAC,QAAQ,OAAO,QAAQ;AACtC;MACF;AACA,YAAM,SAA6B,SAAS,cAAc,MAAM;AAChE,UAAI,QAAQ;AACV,eAAO,MAAM,YACX,uBACA,QAAQ,OAAO,OAAO,OAAO;AAE/B,eAAO,MAAM,YACX,6BACA,KAAK,OAAO,QAAQ,OAAO,OAAO,SAAS,GAAG,CAAC;AAEjD,eAAO,MAAM,YACX,4BACA,KAAK,OAAO,QAAQ,OAAO,OAAO,SAAS,EAAE,CAAC;AAEhD,eAAO,MAAM,YACX,yBACA,QAAQ,OAAO,OAAO,SAAS;AAEjC,eAAO,MAAM,YACX,+BACA,KAAK,OAAO,QAAQ,OAAO,OAAO,WAAW,GAAG,CAAC;AAEnD,eAAO,MAAM,YACX,8BACA,KAAK,OAAO,QAAQ,OAAO,OAAO,WAAW,EAAE,CAAC;MAEpD;IACF;;EAEQ,OAAO,OAAe,QAAc;AAC1C,WACE,MACA,MACG,QAAQ,MAAM,EAAE,EAChB,QAAQ,OAAO,CAACA,YAEb,MACA,KAAK,IAAI,KAAK,KAAK,IAAI,GAAG,SAASA,QAAO,EAAE,IAAI,MAAM,CAAC,EAAE,SACvD,EAAE,GAEJ,OAAO,EAAE,CAAC;EAGpB;EAEM,WAAQ;;AACZ,YAAM,UAAU,MAAM,KAAK,QAAQ,IAAI,SAAS;AAChD,UAAI,CAAC,WAAW,CAAC,QAAQ,MAAM;AAC7B;MACF;AACA,eAAS,QAAQ,QAAQ;IAC3B;;;;mCA3DW,0BAAuB,mBAAA,cAAA,CAAA;AAAA;4FAAvB,0BAAuB,SAAvB,yBAAuB,WAAA,YAFtB,OAAM,CAAA;AAEd,IAAO,0BAAP;;sEAAO,yBAAuB,CAAA;UAHnC;WAAW;MACV,YAAY;KACb;;;",
  "names": ["color"]
}
