{"version":3,"sources":["node_modules/@capacitor-community/native-audio/dist/esm/audio-asset.js","node_modules/@capacitor-community/native-audio/dist/esm/web.js"],"sourcesContent":["export class AudioAsset {\n  constructor(audio) {\n    this.audio = audio;\n  }\n}\n","import { WebPlugin } from '@capacitor/core';\nimport { AudioAsset } from './audio-asset';\nexport class NativeAudioWeb extends WebPlugin {\n  async resume(options) {\n    const audio = this.getAudioAsset(options.assetId).audio;\n    if (audio.paused) {\n      return audio.play();\n    }\n  }\n  async pause(options) {\n    const audio = this.getAudioAsset(options.assetId).audio;\n    return audio.pause();\n  }\n  async getCurrentTime(options) {\n    const audio = this.getAudioAsset(options.assetId).audio;\n    return {\n      currentTime: audio.currentTime\n    };\n  }\n  async getDuration(options) {\n    const audio = this.getAudioAsset(options.assetId).audio;\n    if (Number.isNaN(audio.duration)) {\n      throw 'no duration available';\n    }\n    if (!Number.isFinite(audio.duration)) {\n      throw 'duration not available => media resource is streaming';\n    }\n    return {\n      duration: audio.duration\n    };\n  }\n  async configure(options) {\n    throw `configure is not supported for web: ${JSON.stringify(options)}`;\n  }\n  async preload(options) {\n    var _a;\n    if (NativeAudioWeb.AUDIO_ASSET_BY_ASSET_ID.has(options.assetId)) {\n      throw 'AssetId already exists. Unload first if like to change!';\n    }\n    if (!((_a = options.assetPath) === null || _a === void 0 ? void 0 : _a.length)) {\n      throw 'no assetPath provided';\n    }\n    if (!options.isUrl && !new RegExp('^/?' + NativeAudioWeb.FILE_LOCATION).test(options.assetPath)) {\n      const slashPrefix = options.assetPath.startsWith('/') ? '' : '/';\n      options.assetPath = `${NativeAudioWeb.FILE_LOCATION}${slashPrefix}${options.assetPath}`;\n    }\n    const audio = new Audio(options.assetPath);\n    audio.autoplay = false;\n    audio.loop = false;\n    audio.preload = 'auto';\n    if (options.volume) {\n      audio.volume = options.volume;\n    }\n    NativeAudioWeb.AUDIO_ASSET_BY_ASSET_ID.set(options.assetId, new AudioAsset(audio));\n  }\n  async play(options) {\n    var _a;\n    const audio = this.getAudioAsset(options.assetId).audio;\n    await this.stop(options);\n    audio.loop = false;\n    audio.currentTime = (_a = options.time) !== null && _a !== void 0 ? _a : 0;\n    return audio.play();\n  }\n  async loop(options) {\n    const audio = this.getAudioAsset(options.assetId).audio;\n    await this.stop(options);\n    audio.loop = true;\n    return audio.play();\n  }\n  async stop(options) {\n    const audio = this.getAudioAsset(options.assetId).audio;\n    audio.pause();\n    audio.loop = false;\n    audio.currentTime = 0;\n  }\n  async unload(options) {\n    await this.stop(options);\n    NativeAudioWeb.AUDIO_ASSET_BY_ASSET_ID.delete(options.assetId);\n  }\n  async setVolume(options) {\n    if (typeof (options === null || options === void 0 ? void 0 : options.volume) !== 'number') {\n      throw 'no volume provided';\n    }\n    const audio = this.getAudioAsset(options.assetId).audio;\n    audio.volume = options.volume;\n  }\n  async isPlaying(options) {\n    const audio = this.getAudioAsset(options.assetId).audio;\n    return {\n      isPlaying: !audio.paused\n    };\n  }\n  getAudioAsset(assetId) {\n    this.checkAssetId(assetId);\n    if (!NativeAudioWeb.AUDIO_ASSET_BY_ASSET_ID.has(assetId)) {\n      throw `no asset for assetId \"${assetId}\" available. Call preload first!`;\n    }\n    return NativeAudioWeb.AUDIO_ASSET_BY_ASSET_ID.get(assetId);\n  }\n  checkAssetId(assetId) {\n    if (typeof assetId !== 'string') {\n      throw 'assetId must be a string';\n    }\n    if (!(assetId === null || assetId === void 0 ? void 0 : assetId.length)) {\n      throw 'no assetId provided';\n    }\n  }\n}\nNativeAudioWeb.FILE_LOCATION = 'assets/sounds';\nNativeAudioWeb.AUDIO_ASSET_BY_ASSET_ID = new Map();\n"],"mappings":"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","names":[],"x_google_ignoreList":[0,1]}