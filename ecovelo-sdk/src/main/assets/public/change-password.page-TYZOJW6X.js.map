{
  "version": 3,
  "sources": ["src/app/pages/account/change-password/change-password.page.ts", "src/app/pages/account/change-password/change-password.page.html"],
  "sourcesContent": ["import { Component } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { FormsModule } from '@angular/forms'\nimport {\n  IonContent,\n  IonHeader,\n  IonTitle,\n  IonToolbar,\n  IonItem,\n  IonInput,\n  IonButton,\n  IonLabel,\n  LoadingController,\n  IonRow,\n  IonCol,\n} from '@ionic/angular/standalone'\nimport { HeaderComponent } from 'src/app/components/header/header.component'\nimport { updatePassword } from 'aws-amplify/auth'\nimport {\n  FormBuilder,\n  FormGroup,\n  ReactiveFormsModule,\n  Validators,\n} from '@angular/forms'\nimport { ToastService, ToastType } from 'src/app/services/utils/toast.service'\nimport { TranslateModule, TranslateService } from '@ngx-translate/core'\nimport { AuthService } from 'src/app/services/external/auth.service'\nimport { ErrorHandlerService } from 'src/app/services/utils/error-handler.service'\n\n@Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.page.html',\n  styleUrls: ['./change-password.page.scss'],\n  imports: [\n    IonContent,\n    CommonModule,\n    FormsModule,\n    HeaderComponent,\n    ReactiveFormsModule,\n    IonItem,\n    IonInput,\n    IonButton,\n    IonLabel,\n    IonRow,\n    IonCol,\n    TranslateModule,\n  ],\n})\nexport class ChangePasswordPage {\n  passwordForm: FormGroup\n\n  constructor(\n    private fb: FormBuilder,\n    private loadingCtrl: LoadingController,\n    private toast: ToastService,\n    private translate: TranslateService,\n    private authService: AuthService,\n    private errorHandler: ErrorHandlerService\n  ) {\n    this.passwordForm = this.fb.group({\n      oldPassword: ['', [Validators.required, Validators.minLength(6)]],\n      newPassword: ['', [Validators.required, Validators.minLength(6)]],\n    })\n  }\n\n  async changePassword() {\n    const loader = await this.loadingCtrl.create({\n      message: this.translate.instant('auth.updating_password'),\n    })\n\n    try {\n      await loader.present()\n      if (this.passwordForm.valid) {\n        await updatePassword({\n          oldPassword: this.passwordForm.value.oldPassword,\n          newPassword: this.passwordForm.value.newPassword,\n        })\n        this.toast.createWithJustMessage(\n          this.translate.instant('new_password.success'),\n          ToastType.Success\n        )\n        this.passwordForm.reset()\n        this.authService.signOut()\n      }\n    } catch (error) {\n      this.errorHandler.handleError(error)\n    } finally {\n      await loader.dismiss()\n    }\n  }\n}\n", "<app-header [defaultHref]=\"'/account/settings'\"></app-header>\n<ion-content class=\"ion-padding\">\n  <ion-row class=\"ion-justify-content-center\">\n    <ion-col size=\"12\" size-md=\"8\" size-lg=\"6\">\n      <h1 class=\"ion-margin\">{{ 'change_password.title' | translate }}</h1>\n\n      <form [formGroup]=\"passwordForm\" (ngSubmit)=\"changePassword()\">\n        <ion-item>\n          <ion-label position=\"floating\"\n            >{{ 'change_password.current_password' | translate }}</ion-label\n          >\n          <ion-input type=\"password\" formControlName=\"oldPassword\" required>\n          </ion-input>\n        </ion-item>\n\n        <ion-item>\n          <ion-label position=\"floating\"\n            >{{ 'change_password.new_password' | translate }}</ion-label\n          >\n          <ion-input type=\"password\" formControlName=\"newPassword\" required>\n          </ion-input>\n        </ion-item>\n\n        <ion-button\n          expand=\"block\"\n          type=\"submit\"\n          class=\"ion-margin-top\"\n          [disabled]=\"!passwordForm.valid\"\n        >\n          {{ 'change_password.update_button' | translate }}\n        </ion-button>\n      </form>\n    </ion-col>\n  </ion-row>\n</ion-content>\n"],
  "mappings": "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",
  "names": []
}
